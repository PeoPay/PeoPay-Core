{"abi":[{"type":"constructor","inputs":[{"name":"_peoToken","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"baseAPY","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"bronzeMultiplier","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"calculateReward","inputs":[{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"lockPeriod","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"peoToken","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IPeoCoin"}],"stateMutability":"view"},{"type":"function","name":"stake","inputs":[{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"stakes","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"startTimestamp","type":"uint256","internalType":"uint256"},{"name":"exists","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"unstake","inputs":[],"outputs":[],"stateMutability":"nonpayable"}],"bytecode":{"object":"0x6080604052600a60025562278d006003556064600455348015610020575f5ffd5b50604051610eb8380380610eb8833981810160405281019061004291906100e5565b805f5f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050610110565b5f5ffd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100b48261008b565b9050919050565b6100c4816100aa565b81146100ce575f5ffd5b50565b5f815190506100df816100bb565b92915050565b5f602082840312156100fa576100f9610087565b5b5f610107848285016100d1565b91505092915050565b610d9b8061011d5f395ff3fe608060405234801561000f575f5ffd5b5060043610610086575f3560e01c80633fd8b02f116100595780633fd8b02f14610102578063a694fc3a14610120578063d82e39621461013c578063deeafb651461016c57610086565b806316934fc41461008a578063214405a9146100bc5780632def6620146100da578063301d9bef146100e4575b5f5ffd5b6100a4600480360381019061009f91906107e8565b61018a565b6040516100b393929190610845565b60405180910390f35b6100c46101bc565b6040516100d1919061087a565b60405180910390f35b6100e26101c2565b005b6100ec61042f565b6040516100f991906108ee565b60405180910390f35b61010a610453565b604051610117919061087a565b60405180910390f35b61013a60048036038101906101359190610931565b610459565b005b610156600480360381019061015191906107e8565b61069b565b604051610163919061087a565b60405180910390f35b610174610784565b604051610181919061087a565b60405180910390f35b6001602052805f5260405f205f91509050805f015490806001015490806002015f9054906101000a900460ff16905083565b60025481565b5f60015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f206040518060600160405290815f820154815260200160018201548152602001600282015f9054906101000a900460ff1615151515815250509050806040015161027e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610275906109b6565b60405180910390fd5b60035481602001516102909190610a01565b4210156102d2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102c990610a7e565b60405180910390fd5b5f6102dc3361069b565b90505f5f5f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663a9059cbb3384865f015161032b9190610a01565b6040518363ffffffff1660e01b8152600401610348929190610aab565b6020604051808303815f875af1158015610364573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906103889190610afc565b9050806103ca576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103c190610b71565b60405180910390fd5b60015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f5f82015f9055600182015f9055600282015f6101000a81549060ff02191690555050505050565b5f5f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60035481565b5f811161049b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161049290610bd9565b60405180910390fd5b60015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f206002015f9054906101000a900460ff1615610528576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161051f90610c41565b60405180910390fd5b5f5f5f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166323b872dd3330856040518463ffffffff1660e01b815260040161058693929190610c5f565b6020604051808303815f875af11580156105a2573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906105c69190610afc565b905080610608576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105ff90610b71565b60405180910390fd5b60405180606001604052808381526020014281526020016001151581525060015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f820151815f0155602082015181600101556040820151816002015f6101000a81548160ff0219169083151502179055509050505050565b5f5f60015f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f206040518060600160405290815f820154815260200160018201548152602001600282015f9054906101000a900460ff16151515158152505090508060400151610726575f91505061077f565b5f8160200151426107379190610c94565b90505f62015180826107499190610cf4565b90505f618e9482600254865f01516107619190610d24565b61076b9190610d24565b6107759190610cf4565b9050809450505050505b919050565b60045481565b5f5ffd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6107b78261078e565b9050919050565b6107c7816107ad565b81146107d1575f5ffd5b50565b5f813590506107e2816107be565b92915050565b5f602082840312156107fd576107fc61078a565b5b5f61080a848285016107d4565b91505092915050565b5f819050919050565b61082581610813565b82525050565b5f8115159050919050565b61083f8161082b565b82525050565b5f6060820190506108585f83018661081c565b610865602083018561081c565b6108726040830184610836565b949350505050565b5f60208201905061088d5f83018461081c565b92915050565b5f819050919050565b5f6108b66108b16108ac8461078e565b610893565b61078e565b9050919050565b5f6108c78261089c565b9050919050565b5f6108d8826108bd565b9050919050565b6108e8816108ce565b82525050565b5f6020820190506109015f8301846108df565b92915050565b61091081610813565b811461091a575f5ffd5b50565b5f8135905061092b81610907565b92915050565b5f602082840312156109465761094561078a565b5b5f6109538482850161091d565b91505092915050565b5f82825260208201905092915050565b7f4e6f207374616b6520666f756e640000000000000000000000000000000000005f82015250565b5f6109a0600e8361095c565b91506109ab8261096c565b602082019050919050565b5f6020820190508181035f8301526109cd81610994565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f610a0b82610813565b9150610a1683610813565b9250828201905080821115610a2e57610a2d6109d4565b5b92915050565b7f4c6f636b20706572696f64206e6f7420656e64656400000000000000000000005f82015250565b5f610a6860158361095c565b9150610a7382610a34565b602082019050919050565b5f6020820190508181035f830152610a9581610a5c565b9050919050565b610aa5816107ad565b82525050565b5f604082019050610abe5f830185610a9c565b610acb602083018461081c565b9392505050565b610adb8161082b565b8114610ae5575f5ffd5b50565b5f81519050610af681610ad2565b92915050565b5f60208284031215610b1157610b1061078a565b5b5f610b1e84828501610ae8565b91505092915050565b7f5472616e73666572206661696c656400000000000000000000000000000000005f82015250565b5f610b5b600f8361095c565b9150610b6682610b27565b602082019050919050565b5f6020820190508181035f830152610b8881610b4f565b9050919050565b7f43616e6e6f74207374616b65207a65726f20746f6b656e7300000000000000005f82015250565b5f610bc360188361095c565b9150610bce82610b8f565b602082019050919050565b5f6020820190508181035f830152610bf081610bb7565b9050919050565b7f416c726561647920686176652061207374616b650000000000000000000000005f82015250565b5f610c2b60148361095c565b9150610c3682610bf7565b602082019050919050565b5f6020820190508181035f830152610c5881610c1f565b9050919050565b5f606082019050610c725f830186610a9c565b610c7f6020830185610a9c565b610c8c604083018461081c565b949350505050565b5f610c9e82610813565b9150610ca983610813565b9250828203905081811115610cc157610cc06109d4565b5b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601260045260245ffd5b5f610cfe82610813565b9150610d0983610813565b925082610d1957610d18610cc7565b5b828204905092915050565b5f610d2e82610813565b9150610d3983610813565b9250828202610d4781610813565b91508282048414831517610d5e57610d5d6109d4565b5b509291505056fea26469706673582212209f79bebc6e5edece92947ff752f66ff44a2f7c740e444b0b2204d655b6612a4864736f6c634300081c0033","sourceMap":"511:4043:30:-:0;;;1163:2;1138:27;;1375:7;1347:35;;1634:3;1600:37;;1887:78;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1948:9;1928:8;;:30;;;;;;;;;;;;;;;;;;1887:78;511:4043;;88:117:41;197:1;194;187:12;334:126;371:7;411:42;404:5;400:54;389:65;;334:126;;;:::o;466:96::-;503:7;532:24;550:5;532:24;:::i;:::-;521:35;;466:96;;;:::o;568:122::-;641:24;659:5;641:24;:::i;:::-;634:5;631:35;621:63;;680:1;677;670:12;621:63;568:122;:::o;696:143::-;753:5;784:6;778:13;769:22;;800:33;827:5;800:33;:::i;:::-;696:143;;;;:::o;845:351::-;915:6;964:2;952:9;943:7;939:23;935:32;932:119;;;970:79;;:::i;:::-;932:119;1090:1;1115:64;1171:7;1162:6;1151:9;1147:22;1115:64;:::i;:::-;1105:74;;1061:128;845:351;;;;:::o;511:4043:30:-;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f5ffd5b5060043610610086575f3560e01c80633fd8b02f116100595780633fd8b02f14610102578063a694fc3a14610120578063d82e39621461013c578063deeafb651461016c57610086565b806316934fc41461008a578063214405a9146100bc5780632def6620146100da578063301d9bef146100e4575b5f5ffd5b6100a4600480360381019061009f91906107e8565b61018a565b6040516100b393929190610845565b60405180910390f35b6100c46101bc565b6040516100d1919061087a565b60405180910390f35b6100e26101c2565b005b6100ec61042f565b6040516100f991906108ee565b60405180910390f35b61010a610453565b604051610117919061087a565b60405180910390f35b61013a60048036038101906101359190610931565b610459565b005b610156600480360381019061015191906107e8565b61069b565b604051610163919061087a565b60405180910390f35b610174610784565b604051610181919061087a565b60405180910390f35b6001602052805f5260405f205f91509050805f015490806001015490806002015f9054906101000a900460ff16905083565b60025481565b5f60015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f206040518060600160405290815f820154815260200160018201548152602001600282015f9054906101000a900460ff1615151515815250509050806040015161027e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610275906109b6565b60405180910390fd5b60035481602001516102909190610a01565b4210156102d2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102c990610a7e565b60405180910390fd5b5f6102dc3361069b565b90505f5f5f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663a9059cbb3384865f015161032b9190610a01565b6040518363ffffffff1660e01b8152600401610348929190610aab565b6020604051808303815f875af1158015610364573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906103889190610afc565b9050806103ca576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103c190610b71565b60405180910390fd5b60015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f5f82015f9055600182015f9055600282015f6101000a81549060ff02191690555050505050565b5f5f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60035481565b5f811161049b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161049290610bd9565b60405180910390fd5b60015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f206002015f9054906101000a900460ff1615610528576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161051f90610c41565b60405180910390fd5b5f5f5f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166323b872dd3330856040518463ffffffff1660e01b815260040161058693929190610c5f565b6020604051808303815f875af11580156105a2573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906105c69190610afc565b905080610608576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105ff90610b71565b60405180910390fd5b60405180606001604052808381526020014281526020016001151581525060015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f820151815f0155602082015181600101556040820151816002015f6101000a81548160ff0219169083151502179055509050505050565b5f5f60015f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f206040518060600160405290815f820154815260200160018201548152602001600282015f9054906101000a900460ff16151515158152505090508060400151610726575f91505061077f565b5f8160200151426107379190610c94565b90505f62015180826107499190610cf4565b90505f618e9482600254865f01516107619190610d24565b61076b9190610d24565b6107759190610cf4565b9050809450505050505b919050565b60045481565b5f5ffd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6107b78261078e565b9050919050565b6107c7816107ad565b81146107d1575f5ffd5b50565b5f813590506107e2816107be565b92915050565b5f602082840312156107fd576107fc61078a565b5b5f61080a848285016107d4565b91505092915050565b5f819050919050565b61082581610813565b82525050565b5f8115159050919050565b61083f8161082b565b82525050565b5f6060820190506108585f83018661081c565b610865602083018561081c565b6108726040830184610836565b949350505050565b5f60208201905061088d5f83018461081c565b92915050565b5f819050919050565b5f6108b66108b16108ac8461078e565b610893565b61078e565b9050919050565b5f6108c78261089c565b9050919050565b5f6108d8826108bd565b9050919050565b6108e8816108ce565b82525050565b5f6020820190506109015f8301846108df565b92915050565b61091081610813565b811461091a575f5ffd5b50565b5f8135905061092b81610907565b92915050565b5f602082840312156109465761094561078a565b5b5f6109538482850161091d565b91505092915050565b5f82825260208201905092915050565b7f4e6f207374616b6520666f756e640000000000000000000000000000000000005f82015250565b5f6109a0600e8361095c565b91506109ab8261096c565b602082019050919050565b5f6020820190508181035f8301526109cd81610994565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f610a0b82610813565b9150610a1683610813565b9250828201905080821115610a2e57610a2d6109d4565b5b92915050565b7f4c6f636b20706572696f64206e6f7420656e64656400000000000000000000005f82015250565b5f610a6860158361095c565b9150610a7382610a34565b602082019050919050565b5f6020820190508181035f830152610a9581610a5c565b9050919050565b610aa5816107ad565b82525050565b5f604082019050610abe5f830185610a9c565b610acb602083018461081c565b9392505050565b610adb8161082b565b8114610ae5575f5ffd5b50565b5f81519050610af681610ad2565b92915050565b5f60208284031215610b1157610b1061078a565b5b5f610b1e84828501610ae8565b91505092915050565b7f5472616e73666572206661696c656400000000000000000000000000000000005f82015250565b5f610b5b600f8361095c565b9150610b6682610b27565b602082019050919050565b5f6020820190508181035f830152610b8881610b4f565b9050919050565b7f43616e6e6f74207374616b65207a65726f20746f6b656e7300000000000000005f82015250565b5f610bc360188361095c565b9150610bce82610b8f565b602082019050919050565b5f6020820190508181035f830152610bf081610bb7565b9050919050565b7f416c726561647920686176652061207374616b650000000000000000000000005f82015250565b5f610c2b60148361095c565b9150610c3682610bf7565b602082019050919050565b5f6020820190508181035f830152610c5881610c1f565b9050919050565b5f606082019050610c725f830186610a9c565b610c7f6020830185610a9c565b610c8c604083018461081c565b949350505050565b5f610c9e82610813565b9150610ca983610813565b9250828203905081811115610cc157610cc06109d4565b5b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601260045260245ffd5b5f610cfe82610813565b9150610d0983610813565b925082610d1957610d18610cc7565b5b828204905092915050565b5f610d2e82610813565b9150610d3983610813565b9250828202610d4781610813565b91508282048414831517610d5e57610d5d6109d4565b5b509291505056fea26469706673582212209f79bebc6e5edece92947ff752f66ff44a2f7c740e444b0b2204d655b6612a4864736f6c634300081c0033","sourceMap":"511:4043:30:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;989:43;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;;;:::i;:::-;;;;;;;;1138:27;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;4049:503;;;:::i;:::-;;609:24;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;1347:35;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;2303:372;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;3225:478;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;1600:37;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;989:43;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;1138:27::-;;;;:::o;4049:503::-;4087:21;4111:6;:18;4118:10;4111:18;;;;;;;;;;;;;;;4087:42;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4147:4;:11;;;4139:38;;;;;;;;;;;;:::i;:::-;;;;;;;;;4236:10;;4214:4;:19;;;:32;;;;:::i;:::-;4195:15;:51;;4187:85;;;;;;;;;;;;:::i;:::-;;;;;;;;;4283:14;4300:27;4316:10;4300:15;:27::i;:::-;4283:44;;4398:12;4413:8;;;;;;;;;;;:17;;;4431:10;4457:6;4443:4;:11;;;:20;;;;:::i;:::-;4413:51;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;4398:66;;4482:7;4474:35;;;;;;;;;;;;:::i;:::-;;;;;;;;;4527:6;:18;4534:10;4527:18;;;;;;;;;;;;;;;;4520:25;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4077:475;;;4049:503::o;609:24::-;;;;;;;;;;;;;:::o;1347:35::-;;;;:::o;2303:372::-;2370:1;2361:6;:10;2353:47;;;;;;;;;;;;:::i;:::-;;;;;;;;;2419:6;:18;2426:10;2419:18;;;;;;;;;;;;;;;:25;;;;;;;;;;;;2418:26;2410:59;;;;;;;;;;;;:::i;:::-;;;;;;;;;2480:12;2495:8;;;;;;;;;;;:21;;;2517:10;2537:4;2544:6;2495:56;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2480:71;;2569:7;2561:35;;;;;;;;;;;;:::i;:::-;;;;;;;;;2628:40;;;;;;;;2638:6;2628:40;;;;2646:15;2628:40;;;;2663:4;2628:40;;;;;2607:6;:18;2614:10;2607:18;;;;;;;;;;;;;;;:61;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2343:332;2303:372;:::o;3225:478::-;3285:7;3304:21;3328:6;:12;3335:4;3328:12;;;;;;;;;;;;;;;3304:36;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3355:4;:11;;;3350:26;;3375:1;3368:8;;;;;3350:26;3422:22;3465:4;:19;;;3447:15;:37;;;;:::i;:::-;3422:62;;3494:18;3532:6;3515:14;:23;;;;:::i;:::-;3494:44;;3597:18;3658:9;3643:10;3633:7;;3619:4;:11;;;:21;;;;:::i;:::-;:34;;;;:::i;:::-;3618:50;;;;:::i;:::-;3597:71;;3686:10;3679:17;;;;;;3225:478;;;;:::o;1600:37::-;;;;:::o;88:117:41:-;197:1;194;187:12;334:126;371:7;411:42;404:5;400:54;389:65;;334:126;;;:::o;466:96::-;503:7;532:24;550:5;532:24;:::i;:::-;521:35;;466:96;;;:::o;568:122::-;641:24;659:5;641:24;:::i;:::-;634:5;631:35;621:63;;680:1;677;670:12;621:63;568:122;:::o;696:139::-;742:5;780:6;767:20;758:29;;796:33;823:5;796:33;:::i;:::-;696:139;;;;:::o;841:329::-;900:6;949:2;937:9;928:7;924:23;920:32;917:119;;;955:79;;:::i;:::-;917:119;1075:1;1100:53;1145:7;1136:6;1125:9;1121:22;1100:53;:::i;:::-;1090:63;;1046:117;841:329;;;;:::o;1176:77::-;1213:7;1242:5;1231:16;;1176:77;;;:::o;1259:118::-;1346:24;1364:5;1346:24;:::i;:::-;1341:3;1334:37;1259:118;;:::o;1383:90::-;1417:7;1460:5;1453:13;1446:21;1435:32;;1383:90;;;:::o;1479:109::-;1560:21;1575:5;1560:21;:::i;:::-;1555:3;1548:34;1479:109;;:::o;1594:430::-;1737:4;1775:2;1764:9;1760:18;1752:26;;1788:71;1856:1;1845:9;1841:17;1832:6;1788:71;:::i;:::-;1869:72;1937:2;1926:9;1922:18;1913:6;1869:72;:::i;:::-;1951:66;2013:2;2002:9;1998:18;1989:6;1951:66;:::i;:::-;1594:430;;;;;;:::o;2030:222::-;2123:4;2161:2;2150:9;2146:18;2138:26;;2174:71;2242:1;2231:9;2227:17;2218:6;2174:71;:::i;:::-;2030:222;;;;:::o;2258:60::-;2286:3;2307:5;2300:12;;2258:60;;;:::o;2324:142::-;2374:9;2407:53;2425:34;2434:24;2452:5;2434:24;:::i;:::-;2425:34;:::i;:::-;2407:53;:::i;:::-;2394:66;;2324:142;;;:::o;2472:126::-;2522:9;2555:37;2586:5;2555:37;:::i;:::-;2542:50;;2472:126;;;:::o;2604:144::-;2672:9;2705:37;2736:5;2705:37;:::i;:::-;2692:50;;2604:144;;;:::o;2754:167::-;2859:55;2908:5;2859:55;:::i;:::-;2854:3;2847:68;2754:167;;:::o;2927:258::-;3038:4;3076:2;3065:9;3061:18;3053:26;;3089:89;3175:1;3164:9;3160:17;3151:6;3089:89;:::i;:::-;2927:258;;;;:::o;3191:122::-;3264:24;3282:5;3264:24;:::i;:::-;3257:5;3254:35;3244:63;;3303:1;3300;3293:12;3244:63;3191:122;:::o;3319:139::-;3365:5;3403:6;3390:20;3381:29;;3419:33;3446:5;3419:33;:::i;:::-;3319:139;;;;:::o;3464:329::-;3523:6;3572:2;3560:9;3551:7;3547:23;3543:32;3540:119;;;3578:79;;:::i;:::-;3540:119;3698:1;3723:53;3768:7;3759:6;3748:9;3744:22;3723:53;:::i;:::-;3713:63;;3669:117;3464:329;;;;:::o;3799:169::-;3883:11;3917:6;3912:3;3905:19;3957:4;3952:3;3948:14;3933:29;;3799:169;;;;:::o;3974:164::-;4114:16;4110:1;4102:6;4098:14;4091:40;3974:164;:::o;4144:366::-;4286:3;4307:67;4371:2;4366:3;4307:67;:::i;:::-;4300:74;;4383:93;4472:3;4383:93;:::i;:::-;4501:2;4496:3;4492:12;4485:19;;4144:366;;;:::o;4516:419::-;4682:4;4720:2;4709:9;4705:18;4697:26;;4769:9;4763:4;4759:20;4755:1;4744:9;4740:17;4733:47;4797:131;4923:4;4797:131;:::i;:::-;4789:139;;4516:419;;;:::o;4941:180::-;4989:77;4986:1;4979:88;5086:4;5083:1;5076:15;5110:4;5107:1;5100:15;5127:191;5167:3;5186:20;5204:1;5186:20;:::i;:::-;5181:25;;5220:20;5238:1;5220:20;:::i;:::-;5215:25;;5263:1;5260;5256:9;5249:16;;5284:3;5281:1;5278:10;5275:36;;;5291:18;;:::i;:::-;5275:36;5127:191;;;;:::o;5324:171::-;5464:23;5460:1;5452:6;5448:14;5441:47;5324:171;:::o;5501:366::-;5643:3;5664:67;5728:2;5723:3;5664:67;:::i;:::-;5657:74;;5740:93;5829:3;5740:93;:::i;:::-;5858:2;5853:3;5849:12;5842:19;;5501:366;;;:::o;5873:419::-;6039:4;6077:2;6066:9;6062:18;6054:26;;6126:9;6120:4;6116:20;6112:1;6101:9;6097:17;6090:47;6154:131;6280:4;6154:131;:::i;:::-;6146:139;;5873:419;;;:::o;6298:118::-;6385:24;6403:5;6385:24;:::i;:::-;6380:3;6373:37;6298:118;;:::o;6422:332::-;6543:4;6581:2;6570:9;6566:18;6558:26;;6594:71;6662:1;6651:9;6647:17;6638:6;6594:71;:::i;:::-;6675:72;6743:2;6732:9;6728:18;6719:6;6675:72;:::i;:::-;6422:332;;;;;:::o;6760:116::-;6830:21;6845:5;6830:21;:::i;:::-;6823:5;6820:32;6810:60;;6866:1;6863;6856:12;6810:60;6760:116;:::o;6882:137::-;6936:5;6967:6;6961:13;6952:22;;6983:30;7007:5;6983:30;:::i;:::-;6882:137;;;;:::o;7025:345::-;7092:6;7141:2;7129:9;7120:7;7116:23;7112:32;7109:119;;;7147:79;;:::i;:::-;7109:119;7267:1;7292:61;7345:7;7336:6;7325:9;7321:22;7292:61;:::i;:::-;7282:71;;7238:125;7025:345;;;;:::o;7376:165::-;7516:17;7512:1;7504:6;7500:14;7493:41;7376:165;:::o;7547:366::-;7689:3;7710:67;7774:2;7769:3;7710:67;:::i;:::-;7703:74;;7786:93;7875:3;7786:93;:::i;:::-;7904:2;7899:3;7895:12;7888:19;;7547:366;;;:::o;7919:419::-;8085:4;8123:2;8112:9;8108:18;8100:26;;8172:9;8166:4;8162:20;8158:1;8147:9;8143:17;8136:47;8200:131;8326:4;8200:131;:::i;:::-;8192:139;;7919:419;;;:::o;8344:174::-;8484:26;8480:1;8472:6;8468:14;8461:50;8344:174;:::o;8524:366::-;8666:3;8687:67;8751:2;8746:3;8687:67;:::i;:::-;8680:74;;8763:93;8852:3;8763:93;:::i;:::-;8881:2;8876:3;8872:12;8865:19;;8524:366;;;:::o;8896:419::-;9062:4;9100:2;9089:9;9085:18;9077:26;;9149:9;9143:4;9139:20;9135:1;9124:9;9120:17;9113:47;9177:131;9303:4;9177:131;:::i;:::-;9169:139;;8896:419;;;:::o;9321:170::-;9461:22;9457:1;9449:6;9445:14;9438:46;9321:170;:::o;9497:366::-;9639:3;9660:67;9724:2;9719:3;9660:67;:::i;:::-;9653:74;;9736:93;9825:3;9736:93;:::i;:::-;9854:2;9849:3;9845:12;9838:19;;9497:366;;;:::o;9869:419::-;10035:4;10073:2;10062:9;10058:18;10050:26;;10122:9;10116:4;10112:20;10108:1;10097:9;10093:17;10086:47;10150:131;10276:4;10150:131;:::i;:::-;10142:139;;9869:419;;;:::o;10294:442::-;10443:4;10481:2;10470:9;10466:18;10458:26;;10494:71;10562:1;10551:9;10547:17;10538:6;10494:71;:::i;:::-;10575:72;10643:2;10632:9;10628:18;10619:6;10575:72;:::i;:::-;10657;10725:2;10714:9;10710:18;10701:6;10657:72;:::i;:::-;10294:442;;;;;;:::o;10742:194::-;10782:4;10802:20;10820:1;10802:20;:::i;:::-;10797:25;;10836:20;10854:1;10836:20;:::i;:::-;10831:25;;10880:1;10877;10873:9;10865:17;;10904:1;10898:4;10895:11;10892:37;;;10909:18;;:::i;:::-;10892:37;10742:194;;;;:::o;10942:180::-;10990:77;10987:1;10980:88;11087:4;11084:1;11077:15;11111:4;11108:1;11101:15;11128:185;11168:1;11185:20;11203:1;11185:20;:::i;:::-;11180:25;;11219:20;11237:1;11219:20;:::i;:::-;11214:25;;11258:1;11248:35;;11263:18;;:::i;:::-;11248:35;11305:1;11302;11298:9;11293:14;;11128:185;;;;:::o;11319:410::-;11359:7;11382:20;11400:1;11382:20;:::i;:::-;11377:25;;11416:20;11434:1;11416:20;:::i;:::-;11411:25;;11471:1;11468;11464:9;11493:30;11511:11;11493:30;:::i;:::-;11482:41;;11672:1;11663:7;11659:15;11656:1;11653:22;11633:1;11626:9;11606:83;11583:139;;11702:18;;:::i;:::-;11583:139;11367:362;11319:410;;;;:::o","linkReferences":{}},"methodIdentifiers":{"baseAPY()":"214405a9","bronzeMultiplier()":"deeafb65","calculateReward(address)":"d82e3962","lockPeriod()":"3fd8b02f","peoToken()":"301d9bef","stake(uint256)":"a694fc3a","stakes(address)":"16934fc4","unstake()":"2def6620"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_peoToken\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"baseAPY\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"bronzeMultiplier\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"calculateReward\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lockPeriod\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"peoToken\",\"outputs\":[{\"internalType\":\"contract IPeoCoin\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"stake\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"stakes\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"startTimestamp\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"exists\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"unstake\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"dkrizhanovskyi\",\"details\":\"Stakers receive a base APY, and a tier multiplier is applied to their rewards. Currently, all stakers are treated as \\\"bronze\\\".      In the future, different tiers could be added to give higher multipliers based on certain conditions.\",\"kind\":\"dev\",\"methods\":{\"calculateReward(address)\":{\"details\":\"The formula:      baseReward = (stakedAmount * baseAPY * stakedDays) / (365 * 100)      bonus = (baseReward * (tierMultiplier - 100)) / 100      totalReward = baseReward + bonus      Currently, tierMultiplier = bronzeMultiplier = 100, so no bonus is added.\",\"params\":{\"user\":\"The address of the user whose reward we are calculating.\"},\"returns\":{\"_0\":\"The total reward amount (in smallest units of PEO) that the user has earned.\"}},\"constructor\":{\"details\":\"The staking contract must be approved to transfer tokens on behalf of stakers.\",\"params\":{\"_peoToken\":\"The address of the PeoCoin contract.\"}},\"stake(uint256)\":{\"details\":\"Transfers tokens from the caller to this contract. The user must have approved this contract beforehand.      Reverts if the user already has a stake or tries to stake zero tokens.\",\"params\":{\"amount\":\"The number of tokens to stake (in smallest units).\"}},\"unstake()\":{\"details\":\"The user must have passed the lock period. If successful, returns staked amount + reward to the user and removes their stake info.      Reverts if the lock period is not over or if the contract cannot transfer tokens (insufficient balance).\"}},\"stateVariables\":{\"bronzeMultiplier\":{\"details\":\"Currently, all stakers are considered bronze, so everyone gets this multiplier.\"},\"lockPeriod\":{\"details\":\"The default is 30 days. Users must wait at least this long before unstaking.\"}},\"title\":\"Staking Contract for PEO Tokens\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"baseAPY()\":{\"notice\":\"Base Annual Percentage Yield (APY) in percent. For example, 10 means 10% per year.\"},\"bronzeMultiplier()\":{\"notice\":\"Multiplier for the bronze tier expressed as a percentage. 100 means no bonus; 110 would be +10%, etc.\"},\"calculateReward(address)\":{\"notice\":\"Calculates the staking reward for a given user.\"},\"constructor\":{\"notice\":\"Deploys the Staking contract with a reference to the PEO token contract.\"},\"lockPeriod()\":{\"notice\":\"Lock period during which the stake cannot be withdrawn (in seconds).\"},\"peoToken()\":{\"notice\":\"The PEO token contract used for staking and reward payout.\"},\"stake(uint256)\":{\"notice\":\"Stakes a specified amount of PEO tokens.\"},\"stakes(address)\":{\"notice\":\"Mapping from user address to their stake information.\"},\"unstake()\":{\"notice\":\"Unstakes the user's tokens and pays out the accrued rewards.\"}},\"notice\":\"Allows users to stake their PEO tokens for a certain lock period to earn rewards.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/Staking.sol\":\"Staking\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/openzeppelin-contracts/lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"]},\"sources\":{\"src/Staking.sol\":{\"keccak256\":\"0xf67363d0a2d5f69ebe530d1f38de435c3c9e4d44474bde6ecfa9a4d8428f74ce\",\"license\":\"GPL-3.0\",\"urls\":[\"bzz-raw://5b84bfc0e2e0f49f295b45ea87df287fbdca635f22b027b3445460a3b2b7d5f2\",\"dweb:/ipfs/QmZ8gBdWL969Ykq6x567iJqvYnmRFbGaZA4HkqFJUVsKu4\"]},\"src/interfaces/IPeoCoin.sol\":{\"keccak256\":\"0xd670e9f9666767bcb3b7470b59210996d609441ab5833e07c3508aad47f775fe\",\"license\":\"GPL-3.0\",\"urls\":[\"bzz-raw://40baa4543e050321aede7a7fed3d4717200963ff231810274a1481dd866f7352\",\"dweb:/ipfs/QmUipkRFVfmz9WAkXBYW6AqKWtuFb37etdywyKUVqaG5Jd\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.28+commit.7893614a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_peoToken","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"stateMutability":"view","type":"function","name":"baseAPY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"bronzeMultiplier","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"stateMutability":"view","type":"function","name":"calculateReward","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"lockPeriod","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"peoToken","outputs":[{"internalType":"contract IPeoCoin","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"stake"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"stakes","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"startTimestamp","type":"uint256"},{"internalType":"bool","name":"exists","type":"bool"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"unstake"}],"devdoc":{"kind":"dev","methods":{"calculateReward(address)":{"details":"The formula:      baseReward = (stakedAmount * baseAPY * stakedDays) / (365 * 100)      bonus = (baseReward * (tierMultiplier - 100)) / 100      totalReward = baseReward + bonus      Currently, tierMultiplier = bronzeMultiplier = 100, so no bonus is added.","params":{"user":"The address of the user whose reward we are calculating."},"returns":{"_0":"The total reward amount (in smallest units of PEO) that the user has earned."}},"constructor":{"details":"The staking contract must be approved to transfer tokens on behalf of stakers.","params":{"_peoToken":"The address of the PeoCoin contract."}},"stake(uint256)":{"details":"Transfers tokens from the caller to this contract. The user must have approved this contract beforehand.      Reverts if the user already has a stake or tries to stake zero tokens.","params":{"amount":"The number of tokens to stake (in smallest units)."}},"unstake()":{"details":"The user must have passed the lock period. If successful, returns staked amount + reward to the user and removes their stake info.      Reverts if the lock period is not over or if the contract cannot transfer tokens (insufficient balance)."}},"version":1},"userdoc":{"kind":"user","methods":{"baseAPY()":{"notice":"Base Annual Percentage Yield (APY) in percent. For example, 10 means 10% per year."},"bronzeMultiplier()":{"notice":"Multiplier for the bronze tier expressed as a percentage. 100 means no bonus; 110 would be +10%, etc."},"calculateReward(address)":{"notice":"Calculates the staking reward for a given user."},"constructor":{"notice":"Deploys the Staking contract with a reference to the PEO token contract."},"lockPeriod()":{"notice":"Lock period during which the stake cannot be withdrawn (in seconds)."},"peoToken()":{"notice":"The PEO token contract used for staking and reward payout."},"stake(uint256)":{"notice":"Stakes a specified amount of PEO tokens."},"stakes(address)":{"notice":"Mapping from user address to their stake information."},"unstake()":{"notice":"Unstakes the user's tokens and pays out the accrued rewards."}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/openzeppelin-contracts/lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":false,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/Staking.sol":"Staking"},"evmVersion":"cancun","libraries":{}},"sources":{"src/Staking.sol":{"keccak256":"0xf67363d0a2d5f69ebe530d1f38de435c3c9e4d44474bde6ecfa9a4d8428f74ce","urls":["bzz-raw://5b84bfc0e2e0f49f295b45ea87df287fbdca635f22b027b3445460a3b2b7d5f2","dweb:/ipfs/QmZ8gBdWL969Ykq6x567iJqvYnmRFbGaZA4HkqFJUVsKu4"],"license":"GPL-3.0"},"src/interfaces/IPeoCoin.sol":{"keccak256":"0xd670e9f9666767bcb3b7470b59210996d609441ab5833e07c3508aad47f775fe","urls":["bzz-raw://40baa4543e050321aede7a7fed3d4717200963ff231810274a1481dd866f7352","dweb:/ipfs/QmUipkRFVfmz9WAkXBYW6AqKWtuFb37etdywyKUVqaG5Jd"],"license":"GPL-3.0"}},"version":1},"ast":{"absolutePath":"src/Staking.sol","id":46746,"exportedSymbols":{"IPeoCoin":[46817],"Staking":[46745]},"nodeType":"SourceUnit","src":"36:4518:30","nodes":[{"id":46532,"nodeType":"PragmaDirective","src":"36:24:30","nodes":[],"literals":["solidity","^","0.8",".28"]},{"id":46533,"nodeType":"ImportDirective","src":"62:35:30","nodes":[],"absolutePath":"src/interfaces/IPeoCoin.sol","file":"./interfaces/IPeoCoin.sol","nameLocation":"-1:-1:-1","scope":46746,"sourceUnit":46818,"symbolAliases":[],"unitAlias":""},{"id":46745,"nodeType":"ContractDefinition","src":"511:4043:30","nodes":[{"id":46538,"nodeType":"VariableDeclaration","src":"609:24:30","nodes":[],"constant":false,"documentation":{"id":46535,"nodeType":"StructuredDocumentation","src":"534:70:30","text":"@notice The PEO token contract used for staking and reward payout."},"functionSelector":"301d9bef","mutability":"mutable","name":"peoToken","nameLocation":"625:8:30","scope":46745,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IPeoCoin_$46817","typeString":"contract IPeoCoin"},"typeName":{"id":46537,"nodeType":"UserDefinedTypeName","pathNode":{"id":46536,"name":"IPeoCoin","nameLocations":["609:8:30"],"nodeType":"IdentifierPath","referencedDeclaration":46817,"src":"609:8:30"},"referencedDeclaration":46817,"src":"609:8:30","typeDescriptions":{"typeIdentifier":"t_contract$_IPeoCoin_$46817","typeString":"contract IPeoCoin"}},"visibility":"public"},{"id":46546,"nodeType":"StructDefinition","src":"812:101:30","nodes":[],"canonicalName":"Staking.StakeInfo","documentation":{"id":46539,"nodeType":"StructuredDocumentation","src":"640:167:30","text":"@notice Stores information about each user's stake.\n @dev exists is used to distinguish between a user who has never staked and one who has an active stake."},"members":[{"constant":false,"id":46541,"mutability":"mutable","name":"amount","nameLocation":"847:6:30","nodeType":"VariableDeclaration","scope":46546,"src":"839:14:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46540,"name":"uint256","nodeType":"ElementaryTypeName","src":"839:7:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":46543,"mutability":"mutable","name":"startTimestamp","nameLocation":"871:14:30","nodeType":"VariableDeclaration","scope":46546,"src":"863:22:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46542,"name":"uint256","nodeType":"ElementaryTypeName","src":"863:7:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":46545,"mutability":"mutable","name":"exists","nameLocation":"900:6:30","nodeType":"VariableDeclaration","scope":46546,"src":"895:11:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":46544,"name":"bool","nodeType":"ElementaryTypeName","src":"895:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"name":"StakeInfo","nameLocation":"819:9:30","scope":46745,"visibility":"public"},{"id":46552,"nodeType":"VariableDeclaration","src":"989:43:30","nodes":[],"constant":false,"documentation":{"id":46547,"nodeType":"StructuredDocumentation","src":"919:65:30","text":"@notice Mapping from user address to their stake information."},"functionSelector":"16934fc4","mutability":"mutable","name":"stakes","nameLocation":"1026:6:30","scope":46745,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_StakeInfo_$46546_storage_$","typeString":"mapping(address => struct Staking.StakeInfo)"},"typeName":{"id":46551,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":46548,"name":"address","nodeType":"ElementaryTypeName","src":"997:7:30","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"989:29:30","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_StakeInfo_$46546_storage_$","typeString":"mapping(address => struct Staking.StakeInfo)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":46550,"nodeType":"UserDefinedTypeName","pathNode":{"id":46549,"name":"StakeInfo","nameLocations":["1008:9:30"],"nodeType":"IdentifierPath","referencedDeclaration":46546,"src":"1008:9:30"},"referencedDeclaration":46546,"src":"1008:9:30","typeDescriptions":{"typeIdentifier":"t_struct$_StakeInfo_$46546_storage_ptr","typeString":"struct Staking.StakeInfo"}}},"visibility":"public"},{"id":46556,"nodeType":"VariableDeclaration","src":"1138:27:30","nodes":[],"constant":false,"documentation":{"id":46553,"nodeType":"StructuredDocumentation","src":"1039:94:30","text":"@notice Base Annual Percentage Yield (APY) in percent. For example, 10 means 10% per year."},"functionSelector":"214405a9","mutability":"mutable","name":"baseAPY","nameLocation":"1153:7:30","scope":46745,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46554,"name":"uint256","nodeType":"ElementaryTypeName","src":"1138:7:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3130","id":46555,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1163:2:30","typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"visibility":"public"},{"id":46560,"nodeType":"VariableDeclaration","src":"1347:35:30","nodes":[],"constant":false,"documentation":{"id":46557,"nodeType":"StructuredDocumentation","src":"1172:170:30","text":"@notice Lock period during which the stake cannot be withdrawn (in seconds).\n @dev The default is 30 days. Users must wait at least this long before unstaking."},"functionSelector":"3fd8b02f","mutability":"mutable","name":"lockPeriod","nameLocation":"1362:10:30","scope":46745,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46558,"name":"uint256","nodeType":"ElementaryTypeName","src":"1347:7:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3330","id":46559,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1375:7:30","subdenomination":"days","typeDescriptions":{"typeIdentifier":"t_rational_2592000_by_1","typeString":"int_const 2592000"},"value":"30"},"visibility":"public"},{"id":46564,"nodeType":"VariableDeclaration","src":"1600:37:30","nodes":[],"constant":false,"documentation":{"id":46561,"nodeType":"StructuredDocumentation","src":"1389:206:30","text":"@notice Multiplier for the bronze tier expressed as a percentage. 100 means no bonus; 110 would be +10%, etc.\n @dev Currently, all stakers are considered bronze, so everyone gets this multiplier."},"functionSelector":"deeafb65","mutability":"mutable","name":"bronzeMultiplier","nameLocation":"1615:16:30","scope":46745,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46562,"name":"uint256","nodeType":"ElementaryTypeName","src":"1600:7:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"313030","id":46563,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1634:3:30","typeDescriptions":{"typeIdentifier":"t_rational_100_by_1","typeString":"int_const 100"},"value":"100"},"visibility":"public"},{"id":46577,"nodeType":"FunctionDefinition","src":"1887:78:30","nodes":[],"body":{"id":46576,"nodeType":"Block","src":"1918:47:30","nodes":[],"statements":[{"expression":{"id":46574,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":46570,"name":"peoToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46538,"src":"1928:8:30","typeDescriptions":{"typeIdentifier":"t_contract$_IPeoCoin_$46817","typeString":"contract IPeoCoin"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":46572,"name":"_peoToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46567,"src":"1948:9:30","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":46571,"name":"IPeoCoin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46817,"src":"1939:8:30","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPeoCoin_$46817_$","typeString":"type(contract IPeoCoin)"}},"id":46573,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1939:19:30","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IPeoCoin_$46817","typeString":"contract IPeoCoin"}},"src":"1928:30:30","typeDescriptions":{"typeIdentifier":"t_contract$_IPeoCoin_$46817","typeString":"contract IPeoCoin"}},"id":46575,"nodeType":"ExpressionStatement","src":"1928:30:30"}]},"documentation":{"id":46565,"nodeType":"StructuredDocumentation","src":"1644:238:30","text":"@notice Deploys the Staking contract with a reference to the PEO token contract.\n @dev The staking contract must be approved to transfer tokens on behalf of stakers.\n @param _peoToken The address of the PeoCoin contract."},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":46568,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46567,"mutability":"mutable","name":"_peoToken","nameLocation":"1907:9:30","nodeType":"VariableDeclaration","scope":46577,"src":"1899:17:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46566,"name":"address","nodeType":"ElementaryTypeName","src":"1899:7:30","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1898:19:30"},"returnParameters":{"id":46569,"nodeType":"ParameterList","parameters":[],"src":"1918:0:30"},"scope":46745,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":46631,"nodeType":"FunctionDefinition","src":"2303:372:30","nodes":[],"body":{"id":46630,"nodeType":"Block","src":"2343:332:30","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46586,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46584,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46580,"src":"2361:6:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":46585,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2370:1:30","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2361:10:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"43616e6e6f74207374616b65207a65726f20746f6b656e73","id":46587,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2373:26:30","typeDescriptions":{"typeIdentifier":"t_stringliteral_7a02f11666a200f30cecba397f7530127901a514068b6cce650d5e1b666a5e24","typeString":"literal_string \"Cannot stake zero tokens\""},"value":"Cannot stake zero tokens"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_7a02f11666a200f30cecba397f7530127901a514068b6cce650d5e1b666a5e24","typeString":"literal_string \"Cannot stake zero tokens\""}],"id":46583,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"2353:7:30","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46588,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2353:47:30","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46589,"nodeType":"ExpressionStatement","src":"2353:47:30"},{"expression":{"arguments":[{"id":46596,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"2418:26:30","subExpression":{"expression":{"baseExpression":{"id":46591,"name":"stakes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46552,"src":"2419:6:30","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_StakeInfo_$46546_storage_$","typeString":"mapping(address => struct Staking.StakeInfo storage ref)"}},"id":46594,"indexExpression":{"expression":{"id":46592,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2426:3:30","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46593,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2430:6:30","memberName":"sender","nodeType":"MemberAccess","src":"2426:10:30","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2419:18:30","typeDescriptions":{"typeIdentifier":"t_struct$_StakeInfo_$46546_storage","typeString":"struct Staking.StakeInfo storage ref"}},"id":46595,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2438:6:30","memberName":"exists","nodeType":"MemberAccess","referencedDeclaration":46545,"src":"2419:25:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"416c726561647920686176652061207374616b65","id":46597,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2446:22:30","typeDescriptions":{"typeIdentifier":"t_stringliteral_082827bab143edba8f48cd7693a3f4cd046e029563c2e9d520c2cabafe24af4d","typeString":"literal_string \"Already have a stake\""},"value":"Already have a stake"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_082827bab143edba8f48cd7693a3f4cd046e029563c2e9d520c2cabafe24af4d","typeString":"literal_string \"Already have a stake\""}],"id":46590,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"2410:7:30","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46598,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2410:59:30","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46599,"nodeType":"ExpressionStatement","src":"2410:59:30"},{"assignments":[46601],"declarations":[{"constant":false,"id":46601,"mutability":"mutable","name":"success","nameLocation":"2485:7:30","nodeType":"VariableDeclaration","scope":46630,"src":"2480:12:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":46600,"name":"bool","nodeType":"ElementaryTypeName","src":"2480:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":46612,"initialValue":{"arguments":[{"expression":{"id":46604,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2517:3:30","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46605,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2521:6:30","memberName":"sender","nodeType":"MemberAccess","src":"2517:10:30","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":46608,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"2537:4:30","typeDescriptions":{"typeIdentifier":"t_contract$_Staking_$46745","typeString":"contract Staking"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_Staking_$46745","typeString":"contract Staking"}],"id":46607,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2529:7:30","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":46606,"name":"address","nodeType":"ElementaryTypeName","src":"2529:7:30","typeDescriptions":{}}},"id":46609,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2529:13:30","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46610,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46580,"src":"2544:6:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":46602,"name":"peoToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46538,"src":"2495:8:30","typeDescriptions":{"typeIdentifier":"t_contract$_IPeoCoin_$46817","typeString":"contract IPeoCoin"}},"id":46603,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2504:12:30","memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":46790,"src":"2495:21:30","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":46611,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2495:56:30","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"2480:71:30"},{"expression":{"arguments":[{"id":46614,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46601,"src":"2569:7:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"5472616e73666572206661696c6564","id":46615,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2578:17:30","typeDescriptions":{"typeIdentifier":"t_stringliteral_25adaa6d082ce15f901e0d8a3d393e7462ef9edf2e6bc8321fa14d1615b6fc51","typeString":"literal_string \"Transfer failed\""},"value":"Transfer failed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_25adaa6d082ce15f901e0d8a3d393e7462ef9edf2e6bc8321fa14d1615b6fc51","typeString":"literal_string \"Transfer failed\""}],"id":46613,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"2561:7:30","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46616,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2561:35:30","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46617,"nodeType":"ExpressionStatement","src":"2561:35:30"},{"expression":{"id":46628,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":46618,"name":"stakes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46552,"src":"2607:6:30","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_StakeInfo_$46546_storage_$","typeString":"mapping(address => struct Staking.StakeInfo storage ref)"}},"id":46621,"indexExpression":{"expression":{"id":46619,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2614:3:30","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46620,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2618:6:30","memberName":"sender","nodeType":"MemberAccess","src":"2614:10:30","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2607:18:30","typeDescriptions":{"typeIdentifier":"t_struct$_StakeInfo_$46546_storage","typeString":"struct Staking.StakeInfo storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":46623,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46580,"src":"2638:6:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":46624,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"2646:5:30","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":46625,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2652:9:30","memberName":"timestamp","nodeType":"MemberAccess","src":"2646:15:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":46626,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"2663:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":46622,"name":"StakeInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46546,"src":"2628:9:30","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_StakeInfo_$46546_storage_ptr_$","typeString":"type(struct Staking.StakeInfo storage pointer)"}},"id":46627,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2628:40:30","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_StakeInfo_$46546_memory_ptr","typeString":"struct Staking.StakeInfo memory"}},"src":"2607:61:30","typeDescriptions":{"typeIdentifier":"t_struct$_StakeInfo_$46546_storage","typeString":"struct Staking.StakeInfo storage ref"}},"id":46629,"nodeType":"ExpressionStatement","src":"2607:61:30"}]},"documentation":{"id":46578,"nodeType":"StructuredDocumentation","src":"1971:327:30","text":"@notice Stakes a specified amount of PEO tokens.\n @dev Transfers tokens from the caller to this contract. The user must have approved this contract beforehand.\n      Reverts if the user already has a stake or tries to stake zero tokens.\n @param amount The number of tokens to stake (in smallest units)."},"functionSelector":"a694fc3a","implemented":true,"kind":"function","modifiers":[],"name":"stake","nameLocation":"2312:5:30","parameters":{"id":46581,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46580,"mutability":"mutable","name":"amount","nameLocation":"2326:6:30","nodeType":"VariableDeclaration","scope":46631,"src":"2318:14:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46579,"name":"uint256","nodeType":"ElementaryTypeName","src":"2318:7:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2317:16:30"},"returnParameters":{"id":46582,"nodeType":"ParameterList","parameters":[],"src":"2343:0:30"},"scope":46745,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46684,"nodeType":"FunctionDefinition","src":"3225:478:30","nodes":[],"body":{"id":46683,"nodeType":"Block","src":"3294:409:30","nodes":[],"statements":[{"assignments":[46641],"declarations":[{"constant":false,"id":46641,"mutability":"mutable","name":"info","nameLocation":"3321:4:30","nodeType":"VariableDeclaration","scope":46683,"src":"3304:21:30","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_StakeInfo_$46546_memory_ptr","typeString":"struct Staking.StakeInfo"},"typeName":{"id":46640,"nodeType":"UserDefinedTypeName","pathNode":{"id":46639,"name":"StakeInfo","nameLocations":["3304:9:30"],"nodeType":"IdentifierPath","referencedDeclaration":46546,"src":"3304:9:30"},"referencedDeclaration":46546,"src":"3304:9:30","typeDescriptions":{"typeIdentifier":"t_struct$_StakeInfo_$46546_storage_ptr","typeString":"struct Staking.StakeInfo"}},"visibility":"internal"}],"id":46645,"initialValue":{"baseExpression":{"id":46642,"name":"stakes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46552,"src":"3328:6:30","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_StakeInfo_$46546_storage_$","typeString":"mapping(address => struct Staking.StakeInfo storage ref)"}},"id":46644,"indexExpression":{"id":46643,"name":"user","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46634,"src":"3335:4:30","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3328:12:30","typeDescriptions":{"typeIdentifier":"t_struct$_StakeInfo_$46546_storage","typeString":"struct Staking.StakeInfo storage ref"}},"nodeType":"VariableDeclarationStatement","src":"3304:36:30"},{"condition":{"id":46648,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"3354:12:30","subExpression":{"expression":{"id":46646,"name":"info","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46641,"src":"3355:4:30","typeDescriptions":{"typeIdentifier":"t_struct$_StakeInfo_$46546_memory_ptr","typeString":"struct Staking.StakeInfo memory"}},"id":46647,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3360:6:30","memberName":"exists","nodeType":"MemberAccess","referencedDeclaration":46545,"src":"3355:11:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":46651,"nodeType":"IfStatement","src":"3350:26:30","trueBody":{"expression":{"hexValue":"30","id":46649,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3375:1:30","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":46638,"id":46650,"nodeType":"Return","src":"3368:8:30"}},{"assignments":[46653],"declarations":[{"constant":false,"id":46653,"mutability":"mutable","name":"stakedDuration","nameLocation":"3430:14:30","nodeType":"VariableDeclaration","scope":46683,"src":"3422:22:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46652,"name":"uint256","nodeType":"ElementaryTypeName","src":"3422:7:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":46659,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46658,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":46654,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"3447:5:30","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":46655,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3453:9:30","memberName":"timestamp","nodeType":"MemberAccess","src":"3447:15:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":46656,"name":"info","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46641,"src":"3465:4:30","typeDescriptions":{"typeIdentifier":"t_struct$_StakeInfo_$46546_memory_ptr","typeString":"struct Staking.StakeInfo memory"}},"id":46657,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3470:14:30","memberName":"startTimestamp","nodeType":"MemberAccess","referencedDeclaration":46543,"src":"3465:19:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3447:37:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3422:62:30"},{"assignments":[46661],"declarations":[{"constant":false,"id":46661,"mutability":"mutable","name":"stakedDays","nameLocation":"3502:10:30","nodeType":"VariableDeclaration","scope":46683,"src":"3494:18:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46660,"name":"uint256","nodeType":"ElementaryTypeName","src":"3494:7:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":46665,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46664,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46662,"name":"stakedDuration","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46653,"src":"3515:14:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"31","id":46663,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3532:6:30","subdenomination":"days","typeDescriptions":{"typeIdentifier":"t_rational_86400_by_1","typeString":"int_const 86400"},"value":"1"},"src":"3515:23:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3494:44:30"},{"assignments":[46667],"declarations":[{"constant":false,"id":46667,"mutability":"mutable","name":"baseReward","nameLocation":"3605:10:30","nodeType":"VariableDeclaration","scope":46683,"src":"3597:18:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46666,"name":"uint256","nodeType":"ElementaryTypeName","src":"3597:7:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":46680,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46679,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46673,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46671,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":46668,"name":"info","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46641,"src":"3619:4:30","typeDescriptions":{"typeIdentifier":"t_struct$_StakeInfo_$46546_memory_ptr","typeString":"struct Staking.StakeInfo memory"}},"id":46669,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3624:6:30","memberName":"amount","nodeType":"MemberAccess","referencedDeclaration":46541,"src":"3619:11:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":46670,"name":"baseAPY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46556,"src":"3633:7:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3619:21:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":46672,"name":"stakedDays","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46661,"src":"3643:10:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3619:34:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":46674,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3618:36:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_rational_36500_by_1","typeString":"int_const 36500"},"id":46677,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"333635","id":46675,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3658:3:30","typeDescriptions":{"typeIdentifier":"t_rational_365_by_1","typeString":"int_const 365"},"value":"365"},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"313030","id":46676,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3664:3:30","typeDescriptions":{"typeIdentifier":"t_rational_100_by_1","typeString":"int_const 100"},"value":"100"},"src":"3658:9:30","typeDescriptions":{"typeIdentifier":"t_rational_36500_by_1","typeString":"int_const 36500"}}],"id":46678,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"3657:11:30","typeDescriptions":{"typeIdentifier":"t_rational_36500_by_1","typeString":"int_const 36500"}},"src":"3618:50:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3597:71:30"},{"expression":{"id":46681,"name":"baseReward","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46667,"src":"3686:10:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":46638,"id":46682,"nodeType":"Return","src":"3679:17:30"}]},"documentation":{"id":46632,"nodeType":"StructuredDocumentation","src":"2681:539:30","text":"@notice Calculates the staking reward for a given user.\n @dev The formula:\n      baseReward = (stakedAmount * baseAPY * stakedDays) / (365 * 100)\n      bonus = (baseReward * (tierMultiplier - 100)) / 100\n      totalReward = baseReward + bonus\n      Currently, tierMultiplier = bronzeMultiplier = 100, so no bonus is added.\n @param user The address of the user whose reward we are calculating.\n @return The total reward amount (in smallest units of PEO) that the user has earned."},"functionSelector":"d82e3962","implemented":true,"kind":"function","modifiers":[],"name":"calculateReward","nameLocation":"3234:15:30","parameters":{"id":46635,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46634,"mutability":"mutable","name":"user","nameLocation":"3258:4:30","nodeType":"VariableDeclaration","scope":46684,"src":"3250:12:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46633,"name":"address","nodeType":"ElementaryTypeName","src":"3250:7:30","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3249:14:30"},"returnParameters":{"id":46638,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46637,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":46684,"src":"3285:7:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46636,"name":"uint256","nodeType":"ElementaryTypeName","src":"3285:7:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3284:9:30"},"scope":46745,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":46744,"nodeType":"FunctionDefinition","src":"4049:503:30","nodes":[],"body":{"id":46743,"nodeType":"Block","src":"4077:475:30","nodes":[],"statements":[{"assignments":[46690],"declarations":[{"constant":false,"id":46690,"mutability":"mutable","name":"info","nameLocation":"4104:4:30","nodeType":"VariableDeclaration","scope":46743,"src":"4087:21:30","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_StakeInfo_$46546_memory_ptr","typeString":"struct Staking.StakeInfo"},"typeName":{"id":46689,"nodeType":"UserDefinedTypeName","pathNode":{"id":46688,"name":"StakeInfo","nameLocations":["4087:9:30"],"nodeType":"IdentifierPath","referencedDeclaration":46546,"src":"4087:9:30"},"referencedDeclaration":46546,"src":"4087:9:30","typeDescriptions":{"typeIdentifier":"t_struct$_StakeInfo_$46546_storage_ptr","typeString":"struct Staking.StakeInfo"}},"visibility":"internal"}],"id":46695,"initialValue":{"baseExpression":{"id":46691,"name":"stakes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46552,"src":"4111:6:30","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_StakeInfo_$46546_storage_$","typeString":"mapping(address => struct Staking.StakeInfo storage ref)"}},"id":46694,"indexExpression":{"expression":{"id":46692,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4118:3:30","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46693,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4122:6:30","memberName":"sender","nodeType":"MemberAccess","src":"4118:10:30","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4111:18:30","typeDescriptions":{"typeIdentifier":"t_struct$_StakeInfo_$46546_storage","typeString":"struct Staking.StakeInfo storage ref"}},"nodeType":"VariableDeclarationStatement","src":"4087:42:30"},{"expression":{"arguments":[{"expression":{"id":46697,"name":"info","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46690,"src":"4147:4:30","typeDescriptions":{"typeIdentifier":"t_struct$_StakeInfo_$46546_memory_ptr","typeString":"struct Staking.StakeInfo memory"}},"id":46698,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4152:6:30","memberName":"exists","nodeType":"MemberAccess","referencedDeclaration":46545,"src":"4147:11:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4e6f207374616b6520666f756e64","id":46699,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4160:16:30","typeDescriptions":{"typeIdentifier":"t_stringliteral_8495ddd36ba9b32a0cb09aa87f940a1af6e06f502729a7774df9db0ac3d8e45a","typeString":"literal_string \"No stake found\""},"value":"No stake found"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_8495ddd36ba9b32a0cb09aa87f940a1af6e06f502729a7774df9db0ac3d8e45a","typeString":"literal_string \"No stake found\""}],"id":46696,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"4139:7:30","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46700,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4139:38:30","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46701,"nodeType":"ExpressionStatement","src":"4139:38:30"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46709,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":46703,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"4195:5:30","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":46704,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4201:9:30","memberName":"timestamp","nodeType":"MemberAccess","src":"4195:15:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46708,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":46705,"name":"info","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46690,"src":"4214:4:30","typeDescriptions":{"typeIdentifier":"t_struct$_StakeInfo_$46546_memory_ptr","typeString":"struct Staking.StakeInfo memory"}},"id":46706,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4219:14:30","memberName":"startTimestamp","nodeType":"MemberAccess","referencedDeclaration":46543,"src":"4214:19:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":46707,"name":"lockPeriod","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46560,"src":"4236:10:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4214:32:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4195:51:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4c6f636b20706572696f64206e6f7420656e646564","id":46710,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4248:23:30","typeDescriptions":{"typeIdentifier":"t_stringliteral_b152b2f6181340aa8d6b8b45a54d4b1ef8e73ba1cf083ff9f0c8c4d158472157","typeString":"literal_string \"Lock period not ended\""},"value":"Lock period not ended"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_b152b2f6181340aa8d6b8b45a54d4b1ef8e73ba1cf083ff9f0c8c4d158472157","typeString":"literal_string \"Lock period not ended\""}],"id":46702,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"4187:7:30","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46711,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4187:85:30","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46712,"nodeType":"ExpressionStatement","src":"4187:85:30"},{"assignments":[46714],"declarations":[{"constant":false,"id":46714,"mutability":"mutable","name":"reward","nameLocation":"4291:6:30","nodeType":"VariableDeclaration","scope":46743,"src":"4283:14:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46713,"name":"uint256","nodeType":"ElementaryTypeName","src":"4283:7:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":46719,"initialValue":{"arguments":[{"expression":{"id":46716,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4316:3:30","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46717,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4320:6:30","memberName":"sender","nodeType":"MemberAccess","src":"4316:10:30","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":46715,"name":"calculateReward","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46684,"src":"4300:15:30","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view returns (uint256)"}},"id":46718,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4300:27:30","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4283:44:30"},{"assignments":[46721],"declarations":[{"constant":false,"id":46721,"mutability":"mutable","name":"success","nameLocation":"4403:7:30","nodeType":"VariableDeclaration","scope":46743,"src":"4398:12:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":46720,"name":"bool","nodeType":"ElementaryTypeName","src":"4398:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":46731,"initialValue":{"arguments":[{"expression":{"id":46724,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4431:3:30","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46725,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4435:6:30","memberName":"sender","nodeType":"MemberAccess","src":"4431:10:30","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46729,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":46726,"name":"info","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46690,"src":"4443:4:30","typeDescriptions":{"typeIdentifier":"t_struct$_StakeInfo_$46546_memory_ptr","typeString":"struct Staking.StakeInfo memory"}},"id":46727,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4448:6:30","memberName":"amount","nodeType":"MemberAccess","referencedDeclaration":46541,"src":"4443:11:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":46728,"name":"reward","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46714,"src":"4457:6:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4443:20:30","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":46722,"name":"peoToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46538,"src":"4413:8:30","typeDescriptions":{"typeIdentifier":"t_contract$_IPeoCoin_$46817","typeString":"contract IPeoCoin"}},"id":46723,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4422:8:30","memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":46778,"src":"4413:17:30","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":46730,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4413:51:30","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"4398:66:30"},{"expression":{"arguments":[{"id":46733,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46721,"src":"4482:7:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"5472616e73666572206661696c6564","id":46734,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4491:17:30","typeDescriptions":{"typeIdentifier":"t_stringliteral_25adaa6d082ce15f901e0d8a3d393e7462ef9edf2e6bc8321fa14d1615b6fc51","typeString":"literal_string \"Transfer failed\""},"value":"Transfer failed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_25adaa6d082ce15f901e0d8a3d393e7462ef9edf2e6bc8321fa14d1615b6fc51","typeString":"literal_string \"Transfer failed\""}],"id":46732,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"4474:7:30","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46735,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4474:35:30","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46736,"nodeType":"ExpressionStatement","src":"4474:35:30"},{"expression":{"id":46741,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"delete","prefix":true,"src":"4520:25:30","subExpression":{"baseExpression":{"id":46737,"name":"stakes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46552,"src":"4527:6:30","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_StakeInfo_$46546_storage_$","typeString":"mapping(address => struct Staking.StakeInfo storage ref)"}},"id":46740,"indexExpression":{"expression":{"id":46738,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4534:3:30","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46739,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4538:6:30","memberName":"sender","nodeType":"MemberAccess","src":"4534:10:30","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4527:18:30","typeDescriptions":{"typeIdentifier":"t_struct$_StakeInfo_$46546_storage","typeString":"struct Staking.StakeInfo storage ref"}},"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46742,"nodeType":"ExpressionStatement","src":"4520:25:30"}]},"documentation":{"id":46685,"nodeType":"StructuredDocumentation","src":"3710:334:30","text":"@notice Unstakes the user's tokens and pays out the accrued rewards.\n @dev The user must have passed the lock period. If successful, returns staked amount + reward to the user and removes their stake info.\n      Reverts if the lock period is not over or if the contract cannot transfer tokens (insufficient balance)."},"functionSelector":"2def6620","implemented":true,"kind":"function","modifiers":[],"name":"unstake","nameLocation":"4058:7:30","parameters":{"id":46686,"nodeType":"ParameterList","parameters":[],"src":"4065:2:30"},"returnParameters":{"id":46687,"nodeType":"ParameterList","parameters":[],"src":"4077:0:30"},"scope":46745,"stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"Staking","contractDependencies":[],"contractKind":"contract","documentation":{"id":46534,"nodeType":"StructuredDocumentation","src":"100:411:30","text":"@title Staking Contract for PEO Tokens\n @author dkrizhanovskyi\n @notice Allows users to stake their PEO tokens for a certain lock period to earn rewards.\n @dev Stakers receive a base APY, and a tier multiplier is applied to their rewards. Currently, all stakers are treated as \"bronze\".\n      In the future, different tiers could be added to give higher multipliers based on certain conditions."},"fullyImplemented":true,"linearizedBaseContracts":[46745],"name":"Staking","nameLocation":"520:7:30","scope":46746,"usedErrors":[],"usedEvents":[]}],"license":"GPL-3.0"},"id":30}